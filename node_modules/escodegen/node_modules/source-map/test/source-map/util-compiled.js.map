{"version":3,"sources":["util.js"],"names":[],"mappings":"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","file":"util-compiled.js","sourcesContent":["/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nif (typeof define !== 'function') {\n    var define = require('amdefine')(module, require);\n}\ndefine(function (require, exports, module) {\n\n  var util = require('../../lib/source-map/util');\n\n  // This is a test mapping which maps functions from two different files\n  // (one.js and two.js) to a minified generated source.\n  //\n  // Here is one.js:\n  //\n  //   ONE.foo = function (bar) {\n  //     return baz(bar);\n  //   };\n  //\n  // Here is two.js:\n  //\n  //   TWO.inc = function (n) {\n  //     return n + 1;\n  //   };\n  //\n  // And here is the generated code (min.js):\n  //\n  //   ONE.foo=function(a){return baz(a);};\n  //   TWO.inc=function(a){return a+1;};\n  exports.testGeneratedCode = \" ONE.foo=function(a){return baz(a);};\\n\"+\n                              \" TWO.inc=function(a){return a+1;};\";\n  exports.testMap = {\n    version: 3,\n    file: 'min.js',\n    names: ['bar', 'baz', 'n'],\n    sources: ['one.js', 'two.js'],\n    sourceRoot: '/the/root',\n    mappings: 'CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA'\n  };\n  exports.testMapNoSourceRoot = {\n    version: 3,\n    file: 'min.js',\n    names: ['bar', 'baz', 'n'],\n    sources: ['one.js', 'two.js'],\n    mappings: 'CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA'\n  };\n  exports.testMapEmptySourceRoot = {\n    version: 3,\n    file: 'min.js',\n    names: ['bar', 'baz', 'n'],\n    sources: ['one.js', 'two.js'],\n    sourceRoot: '',\n    mappings: 'CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA'\n  };\n  exports.testMapWithSourcesContent = {\n    version: 3,\n    file: 'min.js',\n    names: ['bar', 'baz', 'n'],\n    sources: ['one.js', 'two.js'],\n    sourcesContent: [\n      ' ONE.foo = function (bar) {\\n' +\n      '   return baz(bar);\\n' +\n      ' };',\n      ' TWO.inc = function (n) {\\n' +\n      '   return n + 1;\\n' +\n      ' };'\n    ],\n    sourceRoot: '/the/root',\n    mappings: 'CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA'\n  };\n  exports.testMapRelativeSources = {\n    version: 3,\n    file: 'min.js',\n    names: ['bar', 'baz', 'n'],\n    sources: ['./one.js', './two.js'],\n    sourcesContent: [\n      ' ONE.foo = function (bar) {\\n' +\n      '   return baz(bar);\\n' +\n      ' };',\n      ' TWO.inc = function (n) {\\n' +\n      '   return n + 1;\\n' +\n      ' };'\n    ],\n    sourceRoot: '/the/root',\n    mappings: 'CAAC,IAAI,IAAM,SAAUA,GAClB,OAAOC,IAAID;CCDb,IAAI,IAAM,SAAUE,GAClB,OAAOA'\n  };\n  exports.emptyMap = {\n    version: 3,\n    file: 'min.js',\n    names: [],\n    sources: [],\n    mappings: ''\n  };\n\n\n  function assertMapping(generatedLine, generatedColumn, originalSource,\n                         originalLine, originalColumn, name, map, assert,\n                         dontTestGenerated, dontTestOriginal) {\n    if (!dontTestOriginal) {\n      var origMapping = map.originalPositionFor({\n        line: generatedLine,\n        column: generatedColumn\n      });\n      assert.equal(origMapping.name, name,\n                   'Incorrect name, expected ' + JSON.stringify(name)\n                   + ', got ' + JSON.stringify(origMapping.name));\n      assert.equal(origMapping.line, originalLine,\n                   'Incorrect line, expected ' + JSON.stringify(originalLine)\n                   + ', got ' + JSON.stringify(origMapping.line));\n      assert.equal(origMapping.column, originalColumn,\n                   'Incorrect column, expected ' + JSON.stringify(originalColumn)\n                   + ', got ' + JSON.stringify(origMapping.column));\n\n      var expectedSource;\n\n      if (originalSource && map.sourceRoot && originalSource.indexOf(map.sourceRoot) === 0) {\n        expectedSource = originalSource;\n      } else if (originalSource) {\n        expectedSource = map.sourceRoot\n          ? util.join(map.sourceRoot, originalSource)\n          : originalSource;\n      } else {\n        expectedSource = null;\n      }\n\n      assert.equal(origMapping.source, expectedSource,\n                   'Incorrect source, expected ' + JSON.stringify(expectedSource)\n                   + ', got ' + JSON.stringify(origMapping.source));\n    }\n\n    if (!dontTestGenerated) {\n      var genMapping = map.generatedPositionFor({\n        source: originalSource,\n        line: originalLine,\n        column: originalColumn\n      });\n      assert.equal(genMapping.line, generatedLine,\n                   'Incorrect line, expected ' + JSON.stringify(generatedLine)\n                   + ', got ' + JSON.stringify(genMapping.line));\n      assert.equal(genMapping.column, generatedColumn,\n                   'Incorrect column, expected ' + JSON.stringify(generatedColumn)\n                   + ', got ' + JSON.stringify(genMapping.column));\n    }\n  }\n  exports.assertMapping = assertMapping;\n\n  function assertEqualMaps(assert, actualMap, expectedMap) {\n    assert.equal(actualMap.version, expectedMap.version, \"version mismatch\");\n    assert.equal(actualMap.file, expectedMap.file, \"file mismatch\");\n    assert.equal(actualMap.names.length,\n                 expectedMap.names.length,\n                 \"names length mismatch: \" +\n                   actualMap.names.join(\", \") + \" != \" + expectedMap.names.join(\", \"));\n    for (var i = 0; i < actualMap.names.length; i++) {\n      assert.equal(actualMap.names[i],\n                   expectedMap.names[i],\n                   \"names[\" + i + \"] mismatch: \" +\n                     actualMap.names.join(\", \") + \" != \" + expectedMap.names.join(\", \"));\n    }\n    assert.equal(actualMap.sources.length,\n                 expectedMap.sources.length,\n                 \"sources length mismatch: \" +\n                   actualMap.sources.join(\", \") + \" != \" + expectedMap.sources.join(\", \"));\n    for (var i = 0; i < actualMap.sources.length; i++) {\n      assert.equal(actualMap.sources[i],\n                   expectedMap.sources[i],\n                   \"sources[\" + i + \"] length mismatch: \" +\n                   actualMap.sources.join(\", \") + \" != \" + expectedMap.sources.join(\", \"));\n    }\n    assert.equal(actualMap.sourceRoot,\n                 expectedMap.sourceRoot,\n                 \"sourceRoot mismatch: \" +\n                   actualMap.sourceRoot + \" != \" + expectedMap.sourceRoot);\n    assert.equal(actualMap.mappings, expectedMap.mappings,\n                 \"mappings mismatch:\\nActual:   \" + actualMap.mappings + \"\\nExpected: \" + expectedMap.mappings);\n    if (actualMap.sourcesContent) {\n      assert.equal(actualMap.sourcesContent.length,\n                   expectedMap.sourcesContent.length,\n                   \"sourcesContent length mismatch\");\n      for (var i = 0; i < actualMap.sourcesContent.length; i++) {\n        assert.equal(actualMap.sourcesContent[i],\n                     expectedMap.sourcesContent[i],\n                     \"sourcesContent[\" + i + \"] mismatch\");\n      }\n    }\n  }\n  exports.assertEqualMaps = assertEqualMaps;\n\n});\n"]}