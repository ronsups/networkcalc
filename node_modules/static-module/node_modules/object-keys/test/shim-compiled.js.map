{"version":3,"sources":["shim.js"],"names":[],"mappings":"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","file":"shim-compiled.js","sourcesContent":["var test = require('tape');\nvar shimmedKeys = require('../index.js');\nvar is = require('is');\nvar keys = require('../shim.js');\nvar forEach = require('foreach');\nvar indexOf = require('indexof');\n\nvar obj = {\n\t\"str\": \"boz\",\n\t\"obj\": {},\n\t\"arr\": [],\n\t\"bool\": true,\n\t\"num\": 42,\n\t\"aNull\": null,\n\t\"undef\": undefined\n};\nvar objKeys = ['str', 'obj', 'arr', 'bool', 'num', 'aNull', 'undef'];\n\ntest('exports a function', function (t) {\n\tif (Object.keys) {\n\t\tt.equal(Object.keys, shimmedKeys, 'Object.keys is supported and exported');\n\t} else {\n\t\tt.equal(keys, shimmedKeys, 'Object.keys is not supported; shim is exported');\n\t}\n\tt.end();\n});\n\ntest('working with actual shim', function (t) {\n\tt.notEqual(Object.keys, keys, 'keys shim is not native Object.keys');\n\tt.end();\n});\n\ntest('works with an object literal', function (t) {\n\tvar theKeys = keys(obj);\n\tt.equal(is.array(theKeys), true, 'returns an array');\n\tt.deepEqual(theKeys, objKeys, 'Object has expected keys');\n\tt.end();\n});\n\ntest('works with an array', function (t) {\n\tvar arr = [1, 2, 3];\n\tvar theKeys = keys(arr);\n\tt.equal(is.array(theKeys), true, 'returns an array');\n\tt.deepEqual(theKeys, ['0', '1', '2'], 'Array has expected keys');\n\tt.end();\n});\n\ntest('works with a function', function (t) {\n\tvar foo = function () {};\n\tfoo.a = true;\n\n\tt.doesNotThrow(function () { return keys(foo); }, 'does not throw an error');\n\tt.deepEqual(keys(foo), ['a'], 'returns expected keys');\n\tt.end();\n});\n\ntest('returns names which are own properties', function (t) {\n\tforEach(keys(obj), function (name) {\n\t\tt.equal(obj.hasOwnProperty(name), true, name + ' should be returned');\n\t});\n\tt.end();\n});\n\ntest('returns names which are enumerable', function (t) {\n\tvar k, loopedValues = [];\n\tfor (k in obj) {\n\t\tloopedValues.push(k);\n\t}\n\tforEach(keys(obj), function (name) {\n\t\tt.notEqual(indexOf(loopedValues, name), -1, name + ' is not enumerable');\n\t});\n\tt.end();\n});\n\ntest('throws an error for a non-object', function (t) {\n\tt.throws(\n\t\tfunction () { return keys(42); },\n\t\tnew TypeError('Object.keys called on a non-object'),\n\t\t'throws on a non-object'\n\t);\n\tt.end();\n});\n\ntest('works with an object instance', function (t) {\n\tvar Prototype = function () {};\n\tPrototype.prototype.foo = true;\n\tvar obj = new Prototype();\n\tobj.bar = true;\n\tvar theKeys = keys(obj);\n\tt.equal(is.array(theKeys), true, 'returns an array');\n\tt.deepEqual(theKeys, ['bar'], 'Instance has expected keys');\n\tt.end();\n});\n\ntest('works in iOS 5 mobile Safari', function (t) {\n\tvar Foo = function () {};\n\tFoo.a = function () {};\n\n\t// the bug is keys(Foo) => ['a', 'prototype'] instead of ['a']\n\tt.deepEqual(keys(Foo), ['a'], 'has expected keys');\n\tt.end();\n});\n\ntest('works in environments with the dontEnum bug (IE < 9)', function (t) {\n\tvar Foo = function () {};\n\tFoo.prototype.a = function () {};\n\n\t// the bug is keys(Foo.prototype) => ['a', 'constructor'] instead of ['a']\n\tt.deepEqual(keys(Foo.prototype), ['a'], 'has expected keys');\n\tt.end();\n});\n\ntest('shadowed properties', function (t) {\n\tvar shadowedProps = [\n\t\t'dummyControlProp', /* just to be sure */\n\t\t'constructor',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'toLocaleString',\n\t\t'toString',\n\t\t'valueOf'\n\t];\n\tshadowedProps.sort();\n\tvar shadowedObject = {};\n\tforEach(shadowedProps, function (value, index) {\n\t\tshadowedObject[value] = index;\n\t});\n\tvar shadowedObjectKeys = keys(shadowedObject);\n\tshadowedObjectKeys.sort();\n\tt.deepEqual(shadowedObjectKeys, shadowedProps, 'troublesome shadowed properties are keys of object literals');\n\tt.end();\n});\n\n"]}