{"version":3,"sources":["foreach.js"],"names":[],"mappings":"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","file":"foreach-compiled.js","sourcesContent":["var test = require('tape');\nvar forEach = require('../foreach.js');\n\ntest('second argument: iterator', function (t) {\n\tvar arr = [];\n\tt.throws(function () { forEach(arr); }, TypeError, 'undefined is not a function');\n\tt.throws(function () { forEach(arr, null); }, TypeError, 'null is not a function');\n\tt.throws(function () { forEach(arr, ''); }, TypeError, 'string is not a function');\n\tt.throws(function () { forEach(arr, /a/); }, TypeError, 'regex is not a function');\n\tt.throws(function () { forEach(arr, true); }, TypeError, 'true is not a function');\n\tt.throws(function () { forEach(arr, false); }, TypeError, 'false is not a function');\n\tt.throws(function () { forEach(arr, NaN); }, TypeError, 'NaN is not a function');\n\tt.throws(function () { forEach(arr, 42); }, TypeError, '42 is not a function');\n\tt.doesNotThrow(function () { forEach(arr, function () {}); }, 'function is a function');\n\tt.doesNotThrow(function () { forEach(arr, setTimeout); }, 'setTimeout is a function');\n\tif (typeof window !== 'undefined') {\n\t\tt.doesNotThrow(function () { forEach(arr, window.alert); }, 'alert is a function');\n\t}\n\tt.end();\n});\n\ntest('array', function (t) {\n\tvar arr = [1, 2, 3];\n\n\tt.test('iterates over every item', function (st) {\n\t\tvar index = 0;\n\t\tforEach(arr, function () { index += 1; });\n\t\tst.equal(index, arr.length, 'iterates ' + arr.length + ' times');\n\t\tst.end();\n\t});\n\n\tt.test('first iterator argument', function (st) {\n\t\tvar index = 0;\n\t\tst.plan(arr.length);\n\t\tforEach(arr, function (item) {\n\t\t\tst.equal(arr[index], item, 'item ' + index + ' is passed as first argument');\n\t\t\tindex += 1;\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('second iterator argument', function (st) {\n\t\tvar counter = 0;\n\t\tst.plan(arr.length);\n\t\tforEach(arr, function (item, index) {\n\t\t\tst.equal(counter, index, 'index ' + index + ' is passed as second argument');\n\t\t\tcounter += 1;\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('third iterator argument', function (st) {\n\t\tst.plan(arr.length);\n\t\tforEach(arr, function (item, index, array) {\n\t\t\tst.deepEqual(arr, array, 'array is passed as third argument');\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('context argument', function (st) {\n\t\tvar context = {};\n\t\tst.plan(arr.length);\n\t\tforEach(arr, function () {\n\t\t\tst.equal(this, context, '\"this\" is the passed context');\n\t\t}, context);\n\t\tst.end();\n\t});\n\n\tt.end();\n});\n\ntest('object', function (t) {\n\tvar obj = {\n\t\ta: 1,\n\t\tb: 2,\n\t\tc: 3\n\t};\n\tvar keys = ['a', 'b', 'c'];\n\n\tvar F = function () {\n\t\tthis.a = 1;\n\t\tthis.b = 2;\n\t};\n\tF.prototype.c = 3;\n\tvar fKeys = ['a', 'b'];\n\n\tt.test('iterates over every object literal key', function (st) {\n\t\tvar counter = 0;\n\t\tforEach(obj, function () { counter += 1; });\n\t\tst.equal(counter, keys.length, 'iterated ' + counter + ' times');\n\t\tst.end();\n\t});\n\n\tt.test('iterates only over own keys', function (st) {\n\t\tvar counter = 0;\n\t\tforEach(new F(), function () { counter += 1; });\n\t\tst.equal(counter, fKeys.length, 'iterated ' + fKeys.length + ' times');\n\t\tst.end();\n\t});\n\n\tt.test('first iterator argument', function (st) {\n\t\tvar index = 0;\n\t\tst.plan(keys.length);\n\t\tforEach(obj, function (item) {\n\t\t\tst.equal(obj[keys[index]], item, 'item at key ' + keys[index] + ' is passed as first argument');\n\t\t\tindex += 1;\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('second iterator argument', function (st) {\n\t\tvar counter = 0;\n\t\tst.plan(keys.length);\n\t\tforEach(obj, function (item, key) {\n\t\t\tst.equal(keys[counter], key, 'key ' + key + ' is passed as second argument');\n\t\t\tcounter += 1;\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('third iterator argument', function (st) {\n\t\tst.plan(keys.length);\n\t\tforEach(obj, function (item, key, object) {\n\t\t\tst.deepEqual(obj, object, 'object is passed as third argument');\n\t\t});\n\t\tst.end();\n\t});\n\n\tt.test('context argument', function (st) {\n\t\tvar context = {};\n\t\tst.plan(1);\n\t\tforEach({foo: 'bar'}, function () {\n\t\t\tst.equal(this, context, '\"this\" is the passed context');\n\t\t}, context);\n\t\tst.end();\n\t});\n\n\tt.end();\n});\n\n\ntest('string', function (t) {\n\tvar str = 'str';\n\tt.test('second iterator argument', function (st) {\n\t\tvar counter = 0;\n\t\tst.plan(str.length * 2 + 1);\n\t\tforEach(str, function (item, index) {\n\t\t\tst.equal(counter, index, 'index ' + index + ' is passed as second argument');\n\t\t\tst.equal(str.charAt(index), item);\n\t\t\tcounter += 1;\n\t\t});\n\t\tst.equal(counter, str.length, 'iterates ' + str.length + ' times');\n\t});\n\tt.end();\n});\n\n"]}