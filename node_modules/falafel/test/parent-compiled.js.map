{"version":3,"sources":["parent.js"],"names":[],"mappings":";;AAAA,IAAI,UAAU,QAAQ,KAAR,CAAd;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,KAAK,QAAL,EAAe,UAAU,CAAV,EAAa;AACxB,MAAE,IAAF,CAAO,CAAP;;AAEA,QAAI,MAAM,mBACJ,uBADI,GAEJ,SAFI,GAGR,MAHF;;AAKA,QAAI,SAAS,QAAQ,GAAR,EAAa,UAAU,IAAV,EAAgB;AACtC,YAAI,KAAK,IAAL,KAAc,iBAAlB,EAAqC;AACjC,cAAE,KAAF,CAAQ,KAAK,MAAL,CAAY,IAApB,EAA0B,oBAA1B;AACA,cAAE,KAAF,CACI,UAAU,KAAK,MAAL,CAAY,MAAZ,EAAV,CADJ,EAEI,kBAFJ;AAIA,cAAE,KAAF,CAAQ,KAAK,MAAL,CAAY,MAAZ,CAAmB,IAA3B,EAAiC,qBAAjC;AACA,cAAE,KAAF,CACI,UAAU,KAAK,MAAL,CAAY,MAAZ,CAAmB,MAAnB,EAAV,CADJ,EAEI,uBAFJ;AAIA,iBAAK,MAAL,CAAY,MAAZ,CAAmB,SAAnB;AACH;AACJ,KAdY,CAAb;;AAgBA,aAAS,CAAC,IAAD,CAAT,EAAiB,MAAjB,EAAyB,UAAU,CAAV,EAAa;AAAE,UAAE,KAAF,CAAQ,CAAR,EAAW,CAAX;AAAe,KAAvD;AACH,CAzBD;;AA2BA,SAAS,SAAT,CAAoB,CAApB,EAAuB;AACnB,WAAO,EAAE,OAAF,CAAU,OAAV,EAAmB,IAAnB,EAAyB,OAAzB,CAAiC,OAAjC,EAA0C,IAA1C,CAAP;AACH","file":"parent-compiled.js","sourcesContent":["var falafel = require('../');\nvar test = require('tape');\n\ntest('parent', function (t) {\n    t.plan(5);\n    \n    var src = '(function () {'\n        + 'var xs = [ 1, 2, 3 ];'\n        + 'fn(ys);'\n    + '})()';\n    \n    var output = falafel(src, function (node) {\n        if (node.type === 'ArrayExpression') {\n            t.equal(node.parent.type, 'VariableDeclarator');\n            t.equal(\n                ffBracket(node.parent.source()),\n                'xs = [ 1, 2, 3 ]'\n            );\n            t.equal(node.parent.parent.type, 'VariableDeclaration');\n            t.equal(\n                ffBracket(node.parent.parent.source()),\n                'var xs = [ 1, 2, 3 ];'\n            );\n            node.parent.update('ys = 4;');\n        }\n    });\n    \n    Function(['fn'], output)(function (x) { t.equal(x, 4) });\n});\n\nfunction ffBracket (s) {\n    return s.replace(/\\[\\s*/, '[ ').replace(/\\s*\\]/, ' ]');\n}\n"]}