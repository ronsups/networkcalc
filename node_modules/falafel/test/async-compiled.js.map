{"version":3,"sources":["async.js"],"names":[],"mappings":";;AAAA,IAAI,UAAU,QAAQ,KAAR,CAAd;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,KAAK,OAAL,EAAc,UAAU,CAAV,EAAa;AACvB,MAAE,IAAF,CAAO,CAAP;;AAEA,QAAI,MAAM,mBACJ,8BADI,GAEJ,oBAFI,GAGJ,gBAHI,GAIR,MAJF;;AAMA,QAAI,UAAU,CAAd;AACA,QAAI,SAAS,QAAQ,GAAR,EAAa,UAAU,IAAV,EAAgB;AACtC,YAAI,KAAK,IAAL,KAAc,iBAAlB,EAAqC;AACjC;AACA,uBAAW,YAAY;AACnB,qBAAK,MAAL,CAAY,QAAQ,KAAK,MAAL,EAAR,GAAwB,GAApC;AACA,oBAAI,EAAE,OAAF,KAAc,CAAlB,EAAqB;AACxB,aAHD,EAGG,KAAK,OAAL,GAAe,CAHlB;AAIH;AACJ,KARY,CAAb;;AAUA,QAAI,SAAS,CACT,CAAE,CAAF,EAAK,CAAL,CADS,EAET,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAE,CAAF,EAAK,CAAL,CAAR,CAFS,EAGT,CAAE,CAAF,EAAK,CAAL,CAHS,EAIT,CAAE,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAE,CAAF,EAAK,CAAL,CAAR,CAAF,EAAsB,CAAE,CAAF,EAAK,CAAL,CAAtB,CAJS,CAAb;;AAOA,aAAS,KAAT,GAAkB;AACd,iBAAS,CAAE,IAAF,EAAQ,GAAR,CAAT,EAAwB,MAAxB,EACI,UAAU,EAAV,EAAc;AACV,cAAE,IAAF,CAAO,OAAO,KAAP,EAAP,EAAuB,EAAvB;AACA,mBAAO,EAAP;AACH,SAJL,EAKI,UAAU,EAAV,EAAc;AACV,cAAE,IAAF,CAAO,EAAP,EAAW,CAAE,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAE,CAAF,EAAK,CAAL,CAAR,CAAF,EAAsB,CAAE,CAAF,EAAK,CAAL,CAAtB,CAAX;AACH,SAPL;AASH;AACJ,CAtCD","file":"async-compiled.js","sourcesContent":["var falafel = require('../');\nvar test = require('tape');\n\ntest('array', function (t) {\n    t.plan(5);\n    \n    var src = '(function () {'\n        + 'var xs = [ 1, 2, [ 3, 4 ] ];'\n        + 'var ys = [ 5, 6 ];'\n        + 'g([ xs, ys ]);'\n    + '})()';\n    \n    var pending = 0;\n    var output = falafel(src, function (node) {\n        if (node.type === 'ArrayExpression') {\n            pending ++;\n            setTimeout(function () {\n                node.update('fn(' + node.source() + ')');\n                if (--pending === 0) check();\n            }, 50 * pending * 2);\n        }\n    });\n    \n    var arrays = [\n        [ 3, 4 ],\n        [ 1, 2, [ 3, 4 ] ],\n        [ 5, 6 ],\n        [ [ 1, 2, [ 3, 4 ] ], [ 5, 6 ] ],\n    ];\n    \n    function check () {\n        Function([ 'fn', 'g' ], output)(\n            function (xs) {\n                t.same(arrays.shift(), xs);\n                return xs;\n            },\n            function (xs) {\n                t.same(xs, [ [ 1, 2, [ 3, 4 ] ], [ 5, 6 ] ]);\n            }\n        );\n    }\n});\n"]}